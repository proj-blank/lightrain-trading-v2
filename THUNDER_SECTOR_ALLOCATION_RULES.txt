THUNDER STRATEGY - SECTOR ALLOCATION RULES
===========================================
Updated: December 14, 2025

## CAPITAL ALLOCATION CONSTRAINTS:

1. **Total THUNDER Capital**: â‚¹5,00,000 (â‚¹5L)
   
2. **Maximum Per Sector**: 50% of capital = â‚¹2,50,000
   - Prevents over-concentration in any single sector
   - Example: Technology currently has â‚¹2,67,000 (53%) â†’ BLOCKED

3. **Maximum Per Stock**: 2 positions max
   - Prevents over-concentration in single stocks

4. **Maximum Total Positions**: 6 positions

## CURRENT ALLOCATION (as of Dec 14):

Technology Sector: â‚¹2,67,000 (53.4%) âœ… AT MAX - BLOCKED
- TCS.NS: 2 positions
- INFY.NS: 2 positions

Available for new sectors: â‚¹2,33,000 (46.6%)
- Banking: â‚¹0 (0%) âœ… AVAILABLE
- Energy: â‚¹0 (0%) âœ… AVAILABLE
- Consumer Goods: â‚¹0 (0%) âœ… AVAILABLE

## SELECTION LOGIC:

### Step 1: Sector Allocation Check
- Calculate current deployment per sector
- Identify sectors at/above 50% limit
- SKIP all stocks from overallocated sectors

### Step 2: Stock Position Check
- Filter out stocks with 2+ existing positions
- Example: TCS.NS and INFY.NS excluded (have 2 each)

### Step 3: Diversified Selection
- Select from top 2 available sectors
- Max 2 positions per sector per run
- Prefer sector diversity over single-sector concentration

### Step 4: Entry Decision
IF only overallocated sectors available:
  â†’ SKIP entry entirely
  â†’ Wait for next day's run
  â†’ Message: Waiting for stocks from other sectors...

IF new sectors available:
  â†’ Enter positions from Banking/Energy/other sectors
  â†’ Build balanced portfolio

## MONDAY'S EXPECTED BEHAVIOR:

Current State:
- Technology: â‚¹2,67,000 (53%) â†’ BLOCKED

Available Opportunities (25-40 days to earnings):
- Technology: HCLTECH, WIPRO, TECHM, LTTS â†’ ALL SKIPPED
- Banking: HDFCBANK â†’ âœ… AVAILABLE
- Energy: RELIANCE â†’ âœ… AVAILABLE

Expected Action:
âœ… SELECT: HDFCBANK (Banking sector)
âœ… SELECT: RELIANCE (Energy sector)
ğŸš« SKIP: All Technology stocks (sector at max)

Result:
- 2 new positions from non-Tech sectors
- Better sector diversification
- Total: 6 positions across 3 sectors

## FILES UPDATED:

1. thunder_entry.py
   - THUNDER_CAPITAL = 500000 (updated from 400000)
   - MAX_SECTOR_ALLOCATION_PCT = 50

2. thunder_pipeline.py
   - Calculate sector deployment from positions table
   - Filter out overallocated sectors (>= 50%)
   - Display sector allocation percentages
   - Skip entry if only overallocated sectors available

## KEY PRINCIPLE:

Better to wait for the right sector mix than to over-concentrate in one sector

Technology already at 53% â†’ We wait for Banking/Energy opportunities
rather than adding more Tech exposure.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Monday Run @ 10:30 AM IST:
Expected: 2 entries from Banking + Energy (not Technology)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
